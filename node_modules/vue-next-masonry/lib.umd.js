!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).index=e(t.Vue)}(this,(function(t){"use strict";function e(t,e){if(parseInt(t,10)>-1)return t;if("object"!=typeof t)return 0;let n=1/0,i=t.default||0;return Object.entries(t).forEach((([t,r])=>{const s=parseInt(t,10),l=r,o=parseInt(l,10);if(Number.isNaN(s)||Number.isNaN(o))return;e<=s&&s<n&&(n=s,i=l)})),i}var n={tag:{type:[String],default:"div"},cols:{type:[Object,Number,String],default:2},gutter:{type:[Object,Number,String],default:0},css:{type:[Boolean],default:!0},columnTag:{type:[String],default:"div"},columnClass:{type:[String,Array,Object],default:()=>[]},columnAttr:{type:[Object],default:()=>{}},resolveSlot:{type:Boolean,default:!1}},i=t.defineComponent({props:n,data:()=>({wrapperWidth:0,displayColumns:2,displayGutter:0}),activated(){this.$nextTick(this.render)},mounted(){window.addEventListener("resize",this.render),this.$nextTick(this.render)},updated(){this.$nextTick(this.render)},unmounted(){window.removeEventListener("resize",this.render)},methods:{render(){const t=(null==window?void 0:window.innerWidth)||1/0,{wrapperWidth:e}=this;e!==t&&(this.wrapperWidth=t,this.calculateColumnCount(this.wrapperWidth),this.calculateGutterSize(this.wrapperWidth))},calculateGutterSize(t){this.displayGutter=e(this.gutter,t)},calculateColumnCount(t){let n=e(this.cols,t)||0;n=Math.max(1,Number(n)),this.displayColumns=n},getColumnsWithChildItems(){var t,e,n;const i=[],r=null==(e=(t=this.$slots).default)?void 0:e.call(t);let s=[];if(r.length>1?s=r:(s=r[0].children,1===s.length&&this.resolveSlot&&(s=(null==(n=s[0])?void 0:n.children)||[])),0===s.length)return[];for(let l=0,o=0;l<s.length;l++,o++){s[l].type||o--;const t=o%this.displayColumns;i[t]||(i[t]=[]),i[t].push(s[l])}return i}},render(){const{displayGutter:e}=this,n=this.getColumnsWithChildItems(),i=parseInt(e.toString(),10)===1*e?`${e}px`:e,r={style:{display:["-webkit-box","-ms-flexbox","flex"],marginLeft:`-${i}`}},s={boxSizing:"border-box",backgroundClip:"padding-box",width:100/this.displayColumns+"%",border:"0px solid transparent",borderLeftWidth:i},l=n.map(((e,i)=>{const r={key:`${i}-${n.length}`,style:this.css?s:null,class:this.columnClass,attrs:this.columnAttr};return t.h(this.columnTag,r,e)}));return t.h(this.tag,this.css&&r,l)}});const r="masonry";return{install(t,e){e&&e.name?t.component(e.name||r,i):t.component(r,i)}}}));
